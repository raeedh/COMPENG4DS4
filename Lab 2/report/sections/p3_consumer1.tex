%% LaTeX2e file `./sections/p3_consumer1.tex'
%% generated by the `filecontents' environment
%% from source `lab2' on 2023/03/03.
%%
\begin{lstlisting}[language=c,caption=Problem 3 Consumer 1 Task, label=list:p3_cons1]
void consumer1_sem(void *pvParameters) {
    SemaphoreHandle_t *semaphores = (SemaphoreHandle_t*) pvParameters;
    SemaphoreHandle_t producer1_semaphore = semaphores[0];
    SemaphoreHandle_t consumer_semaphore = semaphores[2];
    BaseType_t status;

    while (1) {
        xSemaphoreGive(consumer_semaphore);
        status = xSemaphoreTake(producer1_semaphore, portMAX_DELAY);
        if (status != pdPASS) {
            PRINTF("Failed to acquire producer1_semaphore\r\n");
            while (1)
                ;
        }
        PRINTF("Received Value = %s\r\n", usr_str);
    }
}
\end{lstlisting}
