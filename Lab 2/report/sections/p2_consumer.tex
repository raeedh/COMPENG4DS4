%% LaTeX2e file `./sections/p2_consumer.tex'
%% generated by the `filecontents' environment
%% from source `lab2' on 2023/03/03.
%%
\begin{lstlisting}[language=c,caption=Problem 2 Consumer Queue, label=list:p2_cons]
void consumer_queue(void *pvParameters) {
    QueueHandle_t queue1 = (QueueHandle_t) pvParameters;
    BaseType_t status;

    char *receive_str;

    while (1) {
        status = xQueueReceive(queue1, (void*) &receive_str, portMAX_DELAY);

        if (status != pdPASS) {
            PRINTF("Queue Receive failed!.\r\n");

            while (1)
                ;
        }

        PRINTF("Received Value = %s\r\n", receive_str);
    }
}
\end{lstlisting}
