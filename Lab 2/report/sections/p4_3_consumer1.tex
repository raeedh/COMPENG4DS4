%% LaTeX2e file `./sections/p4_3_consumer1.tex'
%% generated by the `filecontents' environment
%% from source `lab2' on 2023/03/03.
%%
\begin{lstlisting}[language=c,caption=Problem 4.3 Consumer 1 Task, label=list:p4_3_cons1]
void consumer_event(void *pvParameters) {
    EventGroupHandle_t event_group = (EventGroupHandle_t) pvParameters;
    EventBits_t bits;
    while (1) {
        bits = xEventGroupWaitBits(event_group,
        receive_BIT,
        pdTRUE,
        pdFALSE,
        portMAX_DELAY);

        if ((bits & receive_BIT) == receive_BIT) {
            xEventGroupSetBits(event_group, echo_BIT);
            vTaskDelay(1000 / portTICK_PERIOD_MS);
        }

    }
}
\end{lstlisting}
