\begin{lstlisting}[language=c,caption=Problem 2 main, label=list:p2]
int main(void) {
	char buffer[] = {0, 0, 0, 0, 0, 0, 0, 0, 0};

	int motorInput;
	int servoInput;
	float motorDutyCycle;
	float servoDutyCycle;

	/* Init board hardware. */
	BOARD_InitBootPins();
	BOARD_InitBootClocks();
	BOARD_InitDebugConsole();

	setupUART();
	setupPWM();

	/******* Delay *******/
	for (volatile int i = 0U; i < 1000000; i++)
		__asm("NOP");

	char txbuff[] = "Hello World aaron\r\n";
	UART_WriteBlocking(TARGET_UART, txbuff, sizeof(txbuff) - 1);

	while (1) {
		UART_ReadBlocking(TARGET_UART, &buffer[0], 9);

		sscanf(buffer, "%4d;%3d;", &motorInput, &servoInput);

		printf("%.9s\n%d %d\n", buffer, motorInput, servoInput);

		motorDutyCycle = motorInput * 0.025f / 100.0f + 0.070745;
		servoDutyCycle = servoInput * 0.025f / 45.0f + 0.078;

		updatePWM_dutyCycle(FTM_CHANNEL_SERVO_MOTOR, servoDutyCycle);
		updatePWM_dutyCycle(FTM_CHANNEL_DC_MOTOR, motorDutyCycle);

		FTM_SetSoftwareTrigger(FTM_MOTOR, true);
	}
}
\end{lstlisting}